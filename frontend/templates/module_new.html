<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ submodule.title }} - AI Skills Academy</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body class="module-page">
    <div class="cyber-bg"></div>

    <header class="module-header">
        <a href="/" class="back-button">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10 0L8.59 1.41 15.17 8H0v2h15.17l-6.58 6.59L10 18l10-10z" transform="rotate(180 10 9)"/>
            </svg>
            Back to Courses
        </a>
        <h1 class="module-title">
            <span class="module-number">Foundations of Prompting</span>
        </h1>
    </header>

    <div class="split-container">
        <!-- Left Panel: AI Tutor -->
        <div class="left-panel">
            <div class="panel-header">
                <h2>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="8" r="4"/>
                        <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                    </svg>
                    AI Tutor
                </h2>
                <span class="status-indicator">
                    <span class="pulse"></span>
                    Online
                </span>
            </div>
            
            <div class="chat-container" id="tutorChat"></div>

            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Ask me anything..." autocomplete="off">
                <button id="sendButton" class="send-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Right Panel: Workspace -->
        <div class="right-panel">
            <div class="submodule-tabs">
                <button class="tab active" data-submodule="1">01: Focused Summarization</button>
                <button class="tab locked" data-submodule="2">02: Advanced Techniques</button>
                <button class="tab locked" data-submodule="3">03: Chain-of-Thought</button>
                <button class="tab locked" data-submodule="4">04: Real-world Practice</button>
            </div>

            <div class="panel-header">
                <h2>Workspace</h2>
            </div>

            <!-- Upload Section -->
            <div id="uploadSection" style="padding: 1.5rem;">
                <button class="primary-button" id="uploadDocBtn" style="width: 100%; justify-content: center;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <path d="M14 2v6h6M12 18v-6M9 15l3-3 3 3"/>
                    </svg>
                    Upload Document
                </button>
                <input type="file" id="fileInput" accept=".pdf,.docx,.txt" style="display: none;">
            </div>

            <!-- Workspace Chat (Initially Hidden) -->
            <div class="workspace-chat" id="workspaceChat" style="display: none;"></div>

            <!-- Prompt Input (Initially Hidden) -->
            <div id="promptInputSection" class="chat-input-container" style="display: none;">
                <textarea id="promptInput" placeholder="Type your prompt here..." rows="2" style="flex: 1; resize: none;"></textarea>
                <button id="generateBtn" class="send-button" style="height: auto;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/academy.js') }}"></script>
</body>
</html>
